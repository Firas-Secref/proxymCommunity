<app-navbar></app-navbar>

<div class="profile-page sidebar-collapse">

  <div class="page-header header-filter" data-parallax="true" style="background-image:url('assets/couverture.png');"></div>
  <div class="main main-raised">
  <div class="profile-content">
    <div class="container">
      <div class="row">
        <div class="col-md-6 ml-auto mr-auto">
          <div class="profile">
            <div class="avatar">
              <img [src]="'data:image/png;base64,'+user?.profileImage" alt="Circle Image" class="img-raised rounded-circle img-fluid">
            </div>
            <div class="name">
              <h3 class="title">{{user?.firstName|uppercase}} {{user?.lastName|uppercase}}</h3>
              <h6>{{user?.profile}} - {{user?.departement}}</h6>

            </div>
          </div>
          <div class="follow">
            <button (click)="navigateToEdit()" class="btn btn-fab btn-primary btn-round" rel="tooltip" data-toggle="modal" data-target="#thismodal" data-original-title="Follow this user">
              <i class="material-icons">edit</i>
            </button>
          </div>
        </div>
      </div>

      <div class="description text-center">
        <p>{{user?.aPropos}}</p>
      </div>
      <div class="row">
        <div class="col-md-6 ml-auto mr-auto">
          <div class="profile-tabs">
            <ul class="nav nav-pills nav-pills-icons justify-content-center" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" href="#work" role="tab" data-toggle="tab">
                  <i class="material-icons">dashboard</i> My posts
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#users" role="tab" data-toggle="tab">
                  <i class="material-icons">group</i> Follows
                </a>
              </li>

            </ul>
          </div>
        </div>
      </div>

<!--My Publications-->
      <hr>
      <div class="tab-content tab-space">
        <div class="tab-pane work active show" id="work">

          <div class="row">
            <div class="col-md-7 ml-auto mr-auto ">
              <div class="row collections">

                <div class="ml-auto mr-auto">
                  <div class="media-area">
                    <div class="timeline-body" *ngFor="let p of myPosts; let i = index;">
                      <div class="timeline-header">
                        <span class="userimage" ><img style="width: 100%; height: 100%; " class="rounded-circle" [src]="'data:image/png;base64,'+p?.userImage" alt=""></span>
                        <span class="username" ><a href="javascript:;">{{p?.firstName}} {{p?.lastName}}</a>. <small>{{p?.userDepartment}}</small></span>
                      </div>
                      <br>
                      <div class="timeline-content">
                        <p>
                          {{p?.text}}
                        </p>
                        <div class="section col-md-10 ml-auto mr-auto ">
                          <div class="row">
                            <div>
                              <img class="img-raised rounded img-fluid" style="border-radius: 30px" alt="Raised Image" [src]="'data:image/png;base64,'+p?.image1">
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="timeline-footer">
                        <div class="stats">
                          <mdb-icon id="dislike" *ngIf="p.ilikeIt" (click)="deleteLike(p.id, i)" fas icon="heart" class="clickable" style="font-size: 20px; margin-left: 5px; margin-bottom: 2px; color: #0d4aa8"></mdb-icon>
                          <mdb-icon id="like" *ngIf="!p.ilikeIt" (click)="updateLikes(p.id, i)" far icon="heart" class="clickable" style="font-size: 20px; margin-left: 5px; margin-bottom: 2px;"></mdb-icon>
                          <span class="stats-total" style="margin-left: 7px"><b>{{p?.likesNb}}</b></span>
                        </div>
                      </div>
                      <hr>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>



<!--USERS-->
        <div class="tab-pane connections" id="users">
          <div class="row">

            <div *ngFor="let friend of friends" class="col-md-5 mr-auto ml-auto">
              <div class="card card-profile card-plain">
                <div class="row">
                  <div class="col-md-5">
                    <div class="card-header card-header-image">
                      <a href="">
                        <img class="img" [src]="'data:image/png;base64,'+friend?.profileImage">
                      </a>
                      <div class="colored-shadow" style="background-image: url('http://new.kevinrees.com/wp-content/uploads/2016/12/Kevin-Portrait-Square.jpg'); opacity: 1;"></div></div>
                  </div>
                  <div class="col-md-7">
                    <div class="card-body">
                      <h4 class="card-title">{{friend?.firstName}} {{friend?.lastName}}</h4>
                      <h6 class="card-category text-muted">{{friend?.profile}} - {{friend?.departement}}</h6>

<!--                      <p class="card-description">-->
<!--                        Don't be scared of the truth because we need to restart the human foundation in truth...-->
<!--                      </p>-->
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>

        </div>

        <div class="tab-pane text-center gallery" id="conversation">

        </div>
      </div>
    </div>
  </div>
</div>

</div>

